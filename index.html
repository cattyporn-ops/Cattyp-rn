<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Free2Free â€” Video Uploads</title>
  <style>
    :root{--accent:#ff6b6b;--bg:#0f0f12;--card:#16161a;--muted:#9aa0a6;--glass:rgba(255,255,255,0.03)}
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,system-ui,-apple-system,'Segoe UI',Roboto,'Helvetica Neue',Arial;background:linear-gradient(180deg,#0b0b0d 0%, #0f1012 100%);color:#e9eef6}
    header{display:flex;align-items:center;justify-content:space-between;padding:14px 20px;background:linear-gradient(90deg, rgba(255,255,255,0.02), transparent);backdrop-filter:blur(6px);border-bottom:1px solid rgba(255,255,255,0.03)}
    .brand{display:flex;align-items:center;gap:12px}
    .logo{width:44px;height:44px;border-radius:8px;background:linear-gradient(135deg,var(--accent),#ffb86b);display:flex;align-items:center;justify-content:center;font-weight:700;color:#111}
    .site-title{font-weight:700;font-size:18px}
    nav{display:flex;gap:12px;align-items:center}
    .search{display:flex;align-items:center;background:var(--card);padding:8px;border-radius:8px;min-width:260px}
    .search input{background:transparent;border:0;color:inherit;outline:none;width:100%;font-size:14px}
    .btn{background:var(--accent);border:none;padding:9px 14px;border-radius:8px;color:#111;font-weight:700;cursor:pointer}
    .ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);padding:8px 12px;border-radius:8px;color:var(--muted);cursor:pointer}main{padding:20px;max-width:1200px;margin:0 auto}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:16px}
.video-card{background:var(--card);border-radius:10px;overflow:hidden;border:1px solid rgba(255,255,255,0.03);position:relative}
.thumb iframe{width:100%;height:160px;border:0}
.meta{padding:10px}
.title{font-size:14px;font-weight:700;margin-bottom:6px}
.small{font-size:12px;color:var(--muted)}
.delete-btn{display:none;position:absolute;top:8px;right:8px;background:red;color:#fff;border:none;border-radius:6px;padding:4px 6px;font-size:12px;cursor:pointer}

footer{padding:20px;text-align:center;color:var(--muted)}
@media (max-width:640px){.search{min-width:120px}}

/* Admin Panel */
#adminPanel{display:none;margin-bottom:20px;background:var(--glass);padding:14px;border-radius:12px;border:1px solid rgba(255,255,255,0.05)}
#adminPanel input{margin-bottom:8px;width:100%}
#logoutBtn{display:none;margin-top:10px}

  </style>
</head>
<body>
  <header>
    <div class="brand">
      <div class="logo">F2F</div>
      <div>
        <div class="site-title">Free2Free</div>
        <div style="font-size:12px;color:var(--muted);margin-top:2px">Watch & Share</div>
      </div>
    </div>
    <nav>
      <div class="search">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" style="opacity:.9;margin-right:8px"><path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><circle cx="11" cy="11" r="6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
        <input id="search" placeholder="Search videos...">
      </div>
      <button class="ghost" onclick="toggleAdmin()" id="adminBtn">Admin</button>
      <button class="ghost" id="logoutBtn" onclick="logoutAdmin()">Logout</button>
    </nav>
  </header>  <main>
    <!-- Admin Only -->
    <div id="adminPanel">
      <h3 style="margin-top:0">Admin: Add Video by Link</h3>
      <input id="uTitle" type="text" placeholder="Title (required)">
      <input id="uUrl" type="text" placeholder="Video Link (YouTube/Google Drive embed)">
      <button id="doUpload" class="btn">Add to Gallery</button>
    </div><section>
  <h3 style="margin:6px 0 12px">Video Gallery</h3>
  <div id="gallery" class="grid"></div>
</section>

  </main>  <footer>
    Free2Free â€” Users can watch videos. Only admin can add/remove videos.
  </footer>  <script>
    let savedVideos = JSON.parse(localStorage.getItem('free2free_videos')||'[]');
    const gallery = document.getElementById('gallery');
    const search = document.getElementById('search');
    const adminPanel = document.getElementById('adminPanel');
    const logoutBtn = document.getElementById('logoutBtn');
    const adminBtn = document.getElementById('adminBtn');

    const ADMIN_PASSWORD = "admin123"; // ðŸ”‘ Change this password if you want
    let isAdmin = false;

    function renderList(list){
      gallery.innerHTML = '';
      list.forEach((item, idx)=>{
        const card = document.createElement('div');
        card.className = 'video-card';
        const thumbWrap = document.createElement('div');
        thumbWrap.className = 'thumb';
        thumbWrap.innerHTML = `<iframe src="${item.url}" allowfullscreen></iframe>`;
        const meta = document.createElement('div');
        meta.className = 'meta';
        meta.innerHTML = `<div class="title">${escapeHtml(item.title)}</div>`;
        const delBtn = document.createElement('button');
        delBtn.className = 'delete-btn';
        delBtn.innerText = 'Delete';
        delBtn.onclick = ()=>{
          if(confirm('Delete this video?')){
            savedVideos.splice(idx,1);
            save();
            renderList(savedVideos);
          }
        };
        card.appendChild(thumbWrap);
        card.appendChild(meta);
        card.appendChild(delBtn);
        gallery.appendChild(card);
      });
      if(isAdmin){
        document.querySelectorAll('.delete-btn').forEach(btn=>btn.style.display='block');
      }
    }

    function escapeHtml(s){ return String(s).replace(/[&<>\"]/g, c=>({'&':'&amp;','<':'&lt;','>':'&gt;','\\':'&#92;','"':'&quot;'}[c])); }
    function save(){ localStorage.setItem('free2free_videos', JSON.stringify(savedVideos)); }

    document.getElementById('doUpload').addEventListener('click', ()=>{
      const title = document.getElementById('uTitle').value.trim();
      const url = document.getElementById('uUrl').value.trim();
      if(!title || !url){alert('Enter title and link');return;}
      savedVideos.unshift({title,url});
      save();
      renderList(savedVideos);
      document.getElementById('uTitle').value='';
      document.getElementById('uUrl').value='';
      alert('Video added!');
    });

    search.addEventListener('input', ()=>{
      const q = search.value.trim().toLowerCase();
      if(!q) return renderList(savedVideos);
      const filtered = savedVideos.filter(v=> v.title.toLowerCase().includes(q));
      renderList(filtered);
    });

    function toggleAdmin(){
      if(isAdmin){
        adminPanel.style.display = 'block';
        return;
      }
      let pass = prompt("Enter Admin Password:");
      if(pass === ADMIN_PASSWORD){
        adminPanel.style.display = 'block';
        logoutBtn.style.display = 'inline-block';
        adminBtn.style.display = 'none';
        isAdmin = true;
        renderList(savedVideos);
      } else {
        alert("Incorrect password!");
      }
    }

    function logoutAdmin(){
      isAdmin = false;
      adminPanel.style.display = 'none';
      logoutBtn.style.display = 'none';
      adminBtn.style.display = 'inline-block';
      renderList(savedVideos);
      alert("You have been logged out.");
    }

    renderList(savedVideos);
  </script></body>
</html>
